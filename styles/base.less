@import "syntax-variables";

atom-text-editor {
  background-color: @bgc;
             color: @fgc;

  .wrap-guide {background-color: @wrap-guide-c;}
  .indent-guide        {color: @indent-guide-c;}
  .invisible-character {color: @invisible-char-c;}

  .gutter {
    background-color: @gutter-bgc;
               color: @gutter-fgc;
    .line-number {
      opacity: 1;
      &.cursor-line {
        background-color: @gutter-bgc-select;
                   color: @gutter-fgc-select;
      }
      &.cursor-line-no-selection {color: @gutter-fgc-select;}
    }
  }

  .gutter .line-number.folded,
  .gutter .line-number::after,
  .fold-marker::after {color: @notice;}

  .invisible {color: @fgc;}
  .cursor    {color: @cursor-c; border-width: 2px;}
  .selection .region {background-color: @select-c;}

  // Find + replace
  .find-result .region {
    background-color: fade(@result-marker-c, 15%);
  }

  // Bracket-matcher package
  .bracket-matcher .region {
    border: 1px solid @bracket;
    background-color: fade(@bracket, 30%);
  }
}


// Syntax styles


// Punctuation
.syntax--c {
  .syntax--punctuation {
    &.syntax--section {
      color: @punct-c;
      &.syntax--parens {
        color: @fg-c3;
      }
    }
  }
}

.syntax--punctuation {
  &.syntax--cs {
    &.syntax--curlybrace,
    &.syntax--parenthesis {
      color: @punct-c;
    }
  }
  &.syntax--perl,
  &.syntax--objc {
    &.syntax--definition.syntax--type,
    &.syntax--section {
      color: @punct-c;
    }
  }
  &.syntax--shell {
    &.syntax--arguments {
      color: @fg-c3;
    }
    &.syntax--group {
      color: @punct-c;
    }
  }
  &.syntax--java {
    &.syntax--terminator,
    &.syntax--bracket {
      color: @punct-c;
    }
    &.syntax--parameters {
      color: @fg-c3;
    }
  }
  &.syntax--css,
  &.syntax--scss,
  &.syntax--less {
    &.syntax--function,
    &.syntax--parameters,
    &.syntax--property-list {
      color: @punct-c;
    }
  }
}

.syntax--coffee,
.syntax--json,
.syntax--php,
.syntax--sql,
.syntax--js,
.syntax--ts {
  .syntax--punctuation {
    &.syntax--section.syntax--array,
    &.syntax--definition {
      color: @punct-c;
      &.syntax--variable {color: @var-c;}
      &.syntax--comment  {color: @comment-c;}
      &.syntax--string   {color: @string-c;}
    }
  }
}


// Storage & Keywords
.syntax--storage,
.syntax--keyword {
  &.syntax--type,
  &.syntax--modifier,
  &.syntax--other,
  &.syntax--control {
    color: @fg-c4;
  }
  &.syntax--unit {
    color: @fgc;
  }
}


// Variables
.syntax--variable {color: @var-c;}


// Constants
.syntax--constant {
  color: @fgc;
  &.syntax--language,
  &.syntax--symbol {
    color: @fg-c5;
  }
  &.syntax--key {
    color: @fg-c3;
  }
  &.syntax--character {
    &.syntax--escape {
      color: @fg-c5;
    }
  }
}


// Strings
.syntax--string {
  color: @string-c;
  .syntax--constant,
  .syntax--storage,
  .syntax--keyword {
    color: @string-c;
  }
  .syntax--punctuation {
    &.syntax--definition {
      &.syntax--parameters {
        color: @string-c;
      }
    }
  }
  .syntax--embedded {
    color: @var-c;
  }
}


// Support
.syntax--support {
  &.syntax--function {
    color: @fg-c3;
  }
}


// Entities
.syntax--entity {
  &.syntax--inherited-class {
    color: @fgc;
  }
  &.syntax--name {
    &.syntax--function {
      color: @fg-c3;
    }
  }
}


// Meta
.syntax--meta {
  &.syntax--function-call {
    .syntax--variable {
      &.syntax--instance {
        color: @fg-c4;
      }
    }
  }
}


// Markup
// The popular language-markdown (LM) package by burodepeper offers a
// different grammar than the default language-gfm package that ships
// with Atom. LM specific styles will be marked 'lang-md'.

.syntax--md {                             // lang-md
  &.syntax--hr,
  &.syntax--text {
    color: @punct-c;
  }
  &.syntax--code {
    &.syntax--fenced,
    &.syntax--punctuation {
      color: @fgc;
      .syntax--md {
        color: @fg-c0;
        background-color: fade(@fg-c3, 15%);
        border: 2px solid fade(@fg-c3, .1%);
        border-radius: 5px;
        &.syntax--constant {
          color: @accent-c;
          background-color: @bgc;
          border: 0;
        }
      }
    }
  }
}

.syntax--markup {                         // Some lang-md, some gfm.
  &.syntax--bold, {
    color: @fg-c3;
    font-weight: bold;
  }
  &.syntax--italic {
    font-style: italic;
  }
  &.syntax--heading  {
    color: @fgc;
    .syntax--escape {
      color: @fgc;
    }
  }
  &.syntax--strike {
    color: @comment-c;
  }
  &.syntax--critic {                      // lang-md and some gfm
    color: @fgc;
    &.syntax--comment {
      color: @comment-c;
    }
  }
  &.syntax--highlight {                   // lang-md
    color: @fgc;
    background-color: fade(@punct-c, 15%);
    border: 2px solid fade(@punct-c, .1%);
    border-radius: 5px;
    .syntax--punctuation {
      background-color: @bgc;
    }
  }
  &.syntax--link {                        // lang-md
    .syntax--punctuation,
    .syntax--string {
      color: @fg-c5;
    }
    .syntax--destination,
    .syntax--title {
      color: @string-c;
    }
  }
  &.syntax--code {
    color: @fgc;
    .syntax--support.syntax--gfm {
      color: @fg-c0;
      background-color: fade(@fg-c3, 15%);
      border: 2px solid fade(@fg-c3, .1%);
      border-radius: 5px;
    }
  }
  &.syntax--raw  {
    color: @fgc;
    background-color: fade(@punct-c, 15%);
    border: 2px solid fade(@punct-c, .1%);
    border-radius: 5px;
    .syntax--support {
      color: @fg-c0;
    }
  }
}

.syntax--gfm {
  &.syntax--quote {
    color: @punct-c;
  }
  &.syntax--list,
  &.syntax--source,
  &.syntax--hr {
    color: @punct-c;
  }
  .syntax--link {
    .syntax--punctuation,
    .syntax--entity {
      color: @fg-c5;
    }
  }
  &.syntax--highlight {
    color: @fgc;
    background-color: fade(@punct-c, 15%);
    border: 2px solid fade(@punct-c, .1%);
    border-radius: 5px;
    &.syntax--marker {
      background-color: @bgc;
    }
  }
  &.syntax--mention,
  &.syntax--username {
    color: @fgc;
  }
}


// HTML
.syntax--html {
  &.syntax--tag {
    color: @fg-c3;
    &.syntax--punctuation {
      color: @fg-c4;
    }
    &.syntax--sgml {
      color: @comment-c;
      .syntax--string,
      .syntax--punctuation {
        color: @comment-c;
      }
    }
  }
  &.syntax--attribute-with-value {
    .syntax--attribute-name,
    .syntax--separator {
      color: @fg-c5;
    }
  }
  &.syntax--script {
    .syntax--tag {
      color: @accent-c;
    }
  }
  &.syntax--constant {
    .syntax--entity {
      color: @fg-c3;
    }
  }
  &.syntax--string {
    color: @fg-c4;
    .syntax--underline {
      color: @fg-c4;
    }
  }
  &.syntax--text {
    color: @fg-c5;
  }
}


// CSS
.syntax--scss,
.syntax--less,
.syntax--sass,
.syntax--css {
  &.syntax--selector .syntax--entity,
  &.syntax--name.syntax--tag,
  .syntax--attribute-name {
    color: @fgc;
  }
  &.syntax--property-name,
  &.syntax--key-value {
    color: @fg-c5;
  }
  .syntax--property-value {
    color: @fg-c3;
    .syntax--unit,
    .syntax--function,
    .syntax--constant {
      color: @fg-c3;
    }
  }
  &.syntax--url {
    .syntax--string,
    .syntax--parameter {
      color: @string-c;
    }
  }
  .syntax--keyword {
    &.syntax--at-rule {
      color: @fgc;
    }
    &.syntax--control {
      color: @fgc;
      &.syntax--operator {
      color: @fg-c4;
      }
    }
  }
  &.syntax--default,
  &.syntax--optional,
  &.syntax--important {
    color: @accent-c;
  }
}


// SCSS additions
.syntax--scss {
  &.syntax--url.syntax--parameter {
    color: @string-c;
  }
  &.syntax--separator {
    color: @fg-c5;
  }
  .syntax--name.syntax--function {
    color: @fg-c4;
  }
}


// SASS additions
.syntax--sass {
  &.syntax--property-value {
    color: @fgc;
    .syntax--key-value {
      color: @fg-c5;
    }
  }
  &.syntax--variable-usage,
  &.syntax--variable-declaration {
    color: @var-c;
    .syntax--entity {
      color: @var-c;
    }
  }
  &.syntax--at-rule {
    &.syntax--keyframes,
    &.syntax--include {
      color: @var-c;
    }
  }
}


// LESS additions
.syntax--less {
  .syntax--property-list {
    color: @fg-c5;
    .syntax--terminator {
      color: @fgc;
    }
  }
}


// CoffeeScript
.syntax--coffee {
  &.syntax--function {
    &.syntax--entity.syntax--name,
    .syntax--assignment {
      color: @punct-c;
    }
  }
}


// TypeScript
.syntax--ts {
  .syntax--support.syntax--storage.syntax--type {
    color: @fg-c3;
  }
}


// PHP
.syntax--php {
  .syntax--entity {
    &.syntax--name {
      &.syntax--type {
        color: @fgc;
      }
    }
  }
}


// Shell
.syntax--shell {
  .syntax--punctuation {
    &.syntax--embedded {
      color: @var-c;
    }
  }
}


// Python
.syntax--python {
  .syntax--keyword {
    color: @fg-c5;
  }
  .syntax--entity {
    &.syntax--name {
      &.syntax--function {
        color: @fg-c4;
      }
    }
  }
}


// C
.syntax--c {
  .syntax--entity {
    &.syntax--name {
      &.syntax--function {
        color: @fg-c4;
      }
    }
  }
}


// Java
.syntax--java {
  .syntax--keyword.syntax--other {
    color: @accent-c;
  }
}


// Go
.syntax--go {
  .syntax--keyword {
    &.syntax--function,
    &.syntax--import,
    &.syntax--type,
    &.syntax--const,
    &.syntax--package {
      color: @punct-c;
    }
  }
}


// Dart
// Tested against dart 1.0.1, A Dart plugin for Atom by dart-atom.
.syntax--dart {
  &.syntax--keyword.syntax--declaration {
    color: @punct-c;
  }
}


// Clojure
.syntax--clojure {
  .syntax--punctuation {
    &.syntax--vector {
      color: @fg-c4;
    }
    &.syntax--expression {
      color: @fg-c4;
    }
  }
  &.syntax--string {
    color: @fg-c4;
  }
  &.syntax--symbol {
    color: @fg-c5;
  }
}


// SQL
.syntax--sql {
  &.syntax--keyword {
    color: @fg-c5;
    &.syntax--DML {
      color: @fg-c5;
    }
  }
  &.syntax--constant.syntax--other {
    color: @fg-c3;
  }
}


// Makefile
.syntax--makefile {
  color: @fg-c4;
  .syntax--function,
  .syntax--key-value {
    color: @fg-c5;
  }
  .syntax--assignment,
  .syntax--variable {
    color:@fg-c3;
  }
}


// Mustache
.syntax--mustache {
  color: @fgc;
  &.syntax--entity {
    color: @fg-c5;
    &.syntax--function,
    .syntax--block {
      color: @fgc;
    }
  }
}


// XML
.syntax--xml {
  &.syntax--text {
    color: @fg-c3;
  }
  &.syntax--tag {
    color: @fg-c5;
    &.syntax--entity {
      color: @fg-c5;
    }
  }
  &.syntax--string {
    color: @fg-c4;
  }
  .syntax--preprocessor {
    color: @comment-c;
    .syntax--definition,
    .syntax--entity,
    .syntax--string {
      color: @comment-c;
    }
  }
}


// JSON
.syntax--json {
  .syntax--separator,
  &.syntax--dictionary.syntax--key {
    color: @fg-c5;
    .syntax--punctuation {
      color: @fg-c5;
    }
  }
}


// Yaml
.syntax--yaml {
  &.syntax--constant {
    color: @string-c;
  }
  &.syntax--name.syntax--tag {
    color: @fg-c5;
  }
  &.syntax--punctuation {
    &.syntax--separator {
      color: @fg-c5;
    }
    &.syntax--directives,
    &.syntax--entry {
      color: @fgc;
    }
  }
}


// TOML
.syntax--toml {
  color: @string-c;
  &.syntax--name.syntax--section {
    color: @fgc;
    .syntax--punctuation {
      color: @fgc;
    }
  }
  &.syntax--variable.syntax--key {
    color: @fg-c5;
  }
  &.syntax--assignment {
    color: @fg-c5;
  }
  &.syntax--other,
  &.syntax--constant {
    color: @string-c;
  }
}


// Comments
.syntax--comment {
  color: @comment-c;
  .syntax--keyword.syntax--other,
  .syntax--variable,
  .syntax--punctuation,
  .syntax--keyword {
    color: @comment-c;
  }
  .syntax--todo,
  .syntax--fixme,
  .syntax--changed,
  .syntax--xxx,
  .syntax--idea,
  .syntax--hack,
  .syntax--note,
  .syntax--review,
  .syntax--nb,
  .syntax--bug,
  .syntax--question,
  .syntax--combak,
  .syntax--temp,
  .syntax--debug,
  .syntax--optimize,
  .syntax--warning {
    color: @accent-c;
    padding: 0 .5rem;
    background-color: fade(@accent-c, 20%);
    border: 2px solid fade(@accent-c, .1%);
    border-radius: 5px;
  }
}


// Text files, no grammar
.syntax--null-grammar,
.syntax--paragraph.syntax--text {
  color: @fg-c5;
}


// Invalid
.syntax--invalid.syntax--illegal {
  border-bottom: 2px solid @notice;
  color: white;
}


// Mini editor
atom-text-editor[mini] .scroll-view {padding-left: 1px;}
